# ===========================================
# MYMONEY - CONFIGURAÇÃO DE PRODUÇÃO
# ===========================================
# 
# IMPORTANTE: 
# 1. Copie este arquivo para .env antes do deploy
# 2. Altere TODAS as senhas e chaves secretas
# 3. Configure os domínios e IPs corretos
# 4. Nunca commite este arquivo com dados reais
#
# ===========================================

# Ambiente de Execução
NODE_ENV=production
APP_PORT=3001
APP_HOST=0.0.0.0

# ===========================================
# CONFIGURAÇÃO DE BASE DE DADOS
# ===========================================

# MariaDB/MySQL
DB_HOST=mariadb
DB_PORT=3306
DB_NAME=mymoney_prod
DB_USER=mymoney_user
DB_PASSWORD=ALTERE_ESTA_SENHA_SEGURA_123!
DB_ROOT_PASSWORD=ALTERE_ESTA_SENHA_ROOT_456!

# Pool de Conexões
DB_CONNECTION_LIMIT=20
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000

# Configurações SSL (se necessário)
DB_SSL=false
DB_SSL_CA=
DB_SSL_CERT=
DB_SSL_KEY=

# ===========================================
# CONFIGURAÇÃO DE CACHE (REDIS)
# ===========================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=ALTERE_ESTA_SENHA_REDIS_789!
REDIS_URL=redis://:ALTERE_ESTA_SENHA_REDIS_789!@redis:6379
REDIS_DB=0
REDIS_TTL=3600

# Configurações de Conexão Redis
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_RETRY_ATTEMPTS=3

# ===========================================
# SEGURANÇA E AUTENTICAÇÃO
# ===========================================

# JWT (JSON Web Tokens)
JWT_SECRET=ALTERE_ESTA_CHAVE_JWT_MUITO_SEGURA_E_LONGA_987654321!
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=mymoney-app
JWT_AUDIENCE=mymoney-users

# Sessões
SESSION_SECRET=ALTERE_ESTA_CHAVE_SESSION_MUITO_SEGURA_123456789!
SESSION_MAX_AGE=86400000
SESSION_SECURE=true
SESSION_HTTP_ONLY=true

# Configurações de Senha
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ===========================================
# RATE LIMITING E SEGURANÇA
# ===========================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Rate Limiting para Login
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5

# CORS
CORS_ORIGIN=https://mymoney.seudominio.com
CORS_CREDENTIALS=true

# Helmet Security Headers
HELMET_CONTENT_SECURITY_POLICY=true
HELMET_HSTS_MAX_AGE=31536000

# ===========================================
# UPLOADS E ARQUIVOS
# ===========================================

# Configurações de Upload
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,csv,xlsx,xls

# Configurações de Imagem
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080
IMAGE_QUALITY=85

# ===========================================
# EMAIL E NOTIFICAÇÕES
# ===========================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=seu-email@gmail.com
SMTP_PASSWORD=sua-senha-de-app-gmail
EMAIL_FROM=noreply@mymoney.com
EMAIL_FROM_NAME=MyMoney App

# Configurações de Email
EMAIL_ENABLED=true
EMAIL_QUEUE_ENABLED=true
EMAIL_RETRY_ATTEMPTS=3

# Templates de Email
EMAIL_TEMPLATE_PATH=/app/templates/email

# ===========================================
# BACKUP E MANUTENÇÃO
# ===========================================

# Backup Automático
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/app/backups
BACKUP_COMPRESS=true

# Limpeza Automática
CLEANUP_ENABLED=true
CLEANUP_SCHEDULE=0 3 * * 0
CLEANUP_TEMP_FILES_DAYS=7
CLEANUP_LOG_FILES_DAYS=30

# ===========================================
# LOGS E MONITORAMENTO
# ===========================================

# Configurações de Log
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

# Logs por Categoria
LOG_ACCESS=true
LOG_ERROR=true
LOG_SECURITY=true
LOG_PERFORMANCE=true

# Monitoramento
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Performance Monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_USAGE_ALERT_THRESHOLD=80

# ===========================================
# CONFIGURAÇÕES REGIONAIS
# ===========================================

# Timezone
TZ=Europe/Lisbon

# Localização
LOCALE=pt-PT
CURRENCY=EUR
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=HH:mm

# ===========================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ===========================================

# Debug (apenas para troubleshooting)
DEBUG_ENABLED=false
DEBUG_SQL=false
DEBUG_REDIS=false

# Profiling
PROFILING_ENABLED=false

# ===========================================
# CONFIGURAÇÕES ESPECÍFICAS DA APLICAÇÃO
# ===========================================

# Funcionalidades
AI_CATEGORIZATION_ENABLED=true
AUTOMATION_ENABLED=true
NOTIFICATIONS_ENABLED=true
REPORTS_ENABLED=true

# Limites da Aplicação
MAX_TRANSACTIONS_PER_IMPORT=10000
MAX_ACCOUNTS_PER_USER=50
MAX_BUDGETS_PER_USER=20
MAX_GOALS_PER_USER=10

# Cache de Aplicação
CACHE_DASHBOARD_TTL=300
CACHE_REPORTS_TTL=600
CACHE_STATISTICS_TTL=900

# ===========================================
# CONFIGURAÇÕES DE INTEGRAÇÃO
# ===========================================

# APIs Externas (se aplicável)
EXTERNAL_API_ENABLED=false
EXTERNAL_API_KEY=
EXTERNAL_API_URL=

# Webhooks
WEBHOOK_ENABLED=false
WEBHOOK_SECRET=
WEBHOOK_URL=

# ===========================================
# CONFIGURAÇÕES DE DOCKER
# ===========================================

# Configurações específicas para containers
CONTAINER_TIMEZONE=Europe/Lisbon
CONTAINER_USER_ID=1000
CONTAINER_GROUP_ID=1000

# Health Checks
HEALTH_CHECK_TIMEOUT=30s
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_RETRIES=3

# ===========================================
# CONFIGURAÇÕES DE REDE
# ===========================================

# Proxy e Load Balancer
TRUST_PROXY=true
PROXY_TIMEOUT=30000

# Keep Alive
KEEP_ALIVE_TIMEOUT=5000

# ===========================================
# CONFIGURAÇÕES DE SEGURANÇA AVANÇADA
# ===========================================

# Encryption
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=ALTERE_ESTA_CHAVE_ENCRYPTION_32_CHARS!

# API Security
API_KEY_ENABLED=false
API_KEY=

# IP Whitelist (opcional)
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1,::1

# ===========================================
# CONFIGURAÇÕES DE PERFORMANCE
# ===========================================

# Node.js Performance
NODE_OPTIONS=--max-old-space-size=2048
UV_THREADPOOL_SIZE=16

# Cluster Mode
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto

# ===========================================
# CONFIGURAÇÕES DE COMPLIANCE
# ===========================================

# GDPR
GDPR_ENABLED=true
DATA_RETENTION_DAYS=2555
ANONYMIZATION_ENABLED=true

# Audit
AUDIT_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# ===========================================
# NOTAS IMPORTANTES
# ===========================================
#
# 1. SEGURANÇA:
#    - Altere TODAS as senhas e chaves secretas
#    - Use senhas com pelo menos 32 caracteres
#    - Nunca use valores padrão em produção
#
# 2. PERFORMANCE:
#    - Ajuste os limites de memória conforme seu servidor
#    - Configure o pool de conexões baseado na carga esperada
#    - Monitore o uso de recursos regularmente
#
# 3. BACKUP:
#    - Configure backups automáticos
#    - Teste a restauração regularmente
#    - Mantenha backups em local seguro
#
# 4. MONITORAMENTO:
#    - Configure alertas para métricas críticas
#    - Monitore logs de erro regularmente
#    - Implemente health checks externos
#
# 5. ATUALIZAÇÕES:
#    - Mantenha as dependências atualizadas
#    - Teste atualizações em ambiente de staging
#    - Tenha um plano de rollback
#
# ===========================================